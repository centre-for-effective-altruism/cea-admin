<h2 class="page-title">{{title}}</h2><hr/><div ng-controller="FundraisingController"><h2>Progress</h2><div class="row"><div class="col-xs-12"><div class="progress-bar-wrapper"><ul><li ng-repeat="bar in progress" class="progress-bar {{bar.organisationslug}}"><div style="width:{{bar.progress}}%" class="progress-bar-donations">£{{bar.donations}}</div><div style="width:{{100-bar.progress}}%" class="progress-bar-remaining">£{{bar.difference}}</div></li></ul></div></div></div><h2>Donations</h2><div class="row"><div class="col-md-6 well"><ul class="donations"><li ng-repeat="donation in donations" class="donation donation-{{donation.id}} {{donation.organisationslug}}"><i class="glyphicon glyphicon-calendar"></i> {{donation.timestamp|amDateFormat:'DD MMM YYYY'}} &mdash;<i class="glyphicon glyphicon-user"></i> {{donation.donorname}} <span ng-show="donation.anonymous">(anonymous)</span>&mdash; <i class="glyphicon glyphicon-briefcase"></i> {{donation.organisationname}} &mdash;
£{{donation.amount}} <a ng-click="Donation.delete(donation.id)"><i class="glyphicon glyphicon-trash"></i></a></li></ul></div><div class="col-md-6"><form ng-submit="Donation.create()" ng-model="NewDonation"><div class="form-group"><label for="amount">Donor<select name="org" ng-model="NewDonation.donor" class="form-control"><option ng-repeat="donor in donors" value="{{donor.id}}">{{donor.name}}</option></select></label></div><div class="form-group"><label for="org">Organisation</label><select name="org" ng-model="NewDonation.organisation" class="form-control"><option ng-repeat="organisation in organisations" value="{{organisation.slug}}">{{organisation.name}}</option></select></div><div class="form-group"><label for="amount">Donation Amount</label><input name="name" ng-model="NewDonation.amount" type="text" class="form-control"/></div><div class="form-group"><label for="amount">Date</label><div class="input-group"><input type="text" datetime-picker="dd MMMM yyyy HH:mm" ng-model="NewDonation.timestamp" is-open="isOpen" class="form-control"/><a ng-click="openCalendar($event, prop)" class="input-group-addon btn btn-default"><i class="glyphicon glyphicon-calendar"></i> <i class="caret"></i></a></div></div><div class="form-group"><label for="amount">Anonymous donation?<input type="checkbox" ng-model="NewDonation.anonymous" class="form-control"/></label></div><button type="submit" class="btn btn-primary">Submit</button></form></div></div><hr/><h2>Donors</h2><div class="row"><div class="col-md-6"><ul><li ng-repeat="donor in donors" class="donor-{{donor.id}}">{{donor.name}} <a ng-click="Donor.delete(donor.id)"><i class="glyphicon glyphicon-trash"></i></a></li></ul></div><div class="col-md-6"><form ng-submit="Donor.create()" ng-model="NewDonor"><div class="form-group"><label for="name">Donor Name</label><input name="name" ng-model="NewDonor.name" type="text" class="form-control"/></div><button type="submit" class="btn btn-primary">Submit</button></form></div></div><hr/><h2>Organisations</h2><div class="row"><div class="col-md-6"><ol><li ng-repeat="organisation in organisations" class="{{organisation.slug}}">{{organisation.name}}<a ng-if="$index !== 0" ng-click="Organisation.update(organisation.slug,{precedence:organisation.precedence-1})"> <i class="glyphicon glyphicon-chevron-up"></i></a><a ng-if="$index !== organisations.length-1" ng-click="Organisation.update(organisation.slug,{precedence:organisation.precedence+1})"> <i class="glyphicon glyphicon-chevron-down"></i></a><a ng-click="Organisation.delete(organisation.slug)"> <i class="glyphicon glyphicon-trash"></i></a></li></ol></div><div class="col-md-6"><form ng-submit="Organisation.create()" ng-model="NewOrganisation"><div class="form-group"><label for="slug">Slug</label><input name="slug" ng-model="NewOrganisation.slug" type="text" class="form-control"/><p class="help-block">(lowercase letters and dashes)</p></div><div class="form-group"><label for="name">Name</label><input name="name" ng-model="NewOrganisation.name" type="text" class="form-control"/><p class="help-block">(The full name of the organisation)</p></div><button type="submit" class="btn btn-primary">Submit</button></form></div></div><hr/><h2>Targets</h2><div class="row"><div class="col-md-12"><ul><li ng-repeat="target in targets" class="target-{{target.id}}">{{target.organisationname}} &mdash; 
£{{target.amount}} <a ng-click="showTargetEditBox[target.id] = !showTargetEditBox[target.id]"><i class="glyphicon glyphicon-edit"></i></a><form ng-show="showTargetEditBox[target.id]" ng-submit="Target.update(target.id,{amount:target.newAmount,organisation:target.organisationslug})" class="form-inline"><div class="form-group"><div class="input-group"><span class="input-group-addon">£</span><input ng-model="target.newAmount" class="form-control"/><button type="submit" class="btn btn-default input-group-addon form-control"><i class="glyphicon glyphicon-ok"></i></button></div></div></form></li></ul></div></div></div>